<div class="card card-default">

  <div class="card-header">
    <table border="0" style="width: 100%; border: none;">
      <tr>
        <td>
          <div class="input-group">
            <div class="input-group-prepend">
              <div class="input-group-text">
                <b>
                  <i class="fa fa-table"></i>
                </b>
              </div>
            </div>
            <wj-combo-box #cboNumberOfRows [itemsSource]="cboShowNumberOfRows" [isEditable]="false" [isRequired]="true"
              [displayMemberPath]="'rowString'" [selectedValuePath]="'rowNumber'"
              (selectedIndexChanged)="cboShowNumberOfRowsOnSelectedIndexChanged(cboNumberOfRows.selectedValue)"
              style="width: 140px;">
            </wj-combo-box>
          </div>
        </td>
        <td style="text-align: right;">
          <button class="btn btn-primary" (click)="btnAddSalesClick()" style="margin-right: 5px;" id="btnAddSales">
            <i class="fa fa-plus fa-fw"></i> Add
          </button>
          <button class="btn btn-danger" routerLink="/software/sys/dashboard" id="btnCloseActivity">
            <i class="fa fa-close fa-fw"></i> Close
          </button>
        </td>
      </tr>
    </table>
  </div>

  <div class="card-body">
    <div class="row">
      <div class="col-md-8">
        <table border="0" style="width: 100%; border: none; margin-top: -15px;">
          <tr>
            <td>
              <div class="form-group">
                <span class="badge badge-info" style="margin-bottom: 5px;"><i class="fa fa-calendar fa-fw"></i>
                  Start Date</span>
                <wj-input-date #cboSalesStartDateFilter [(ngModel)]="salesStartDateFilterData"
                  [ngModelOptions]="{standalone: true}" (textChanged)="cboStartDateTextChanged()" format="MMMM dd, yyyy"
                  style="width: 100%;">
                </wj-input-date>
              </div>
            </td>
            <td>
              <div class="form-group">
                <span class="badge badge-info" style="margin-bottom: 5px;"><i class="fa fa-calendar fa-fw"></i>
                  End Date</span>
                <wj-input-date #cboSalesEndDateFilter [(ngModel)]="salesEndDateFilterData"
                  [ngModelOptions]="{standalone: true}" (textChanged)="cboEndDateTextChanged()" format="MMMM dd, yyyy"
                  style="width: 100%;">
                </wj-input-date>
              </div>
            </td>
            <td>
              <div class="form-group">
                <span class="badge badge-info" style="margin-bottom: 5px;"><i class="fa fa-question-circle fa-fw"></i>
                  Status</span>
                <wj-combo-box #cboSalesStatus [itemsSource]="cboSalesStatusObservableArray" [isEditable]="false"
                  [isRequired]="true" [displayMemberPath]="'Status'" [selectedValuePath]="'Status'"
                  (selectedIndexChanged)="cboSalesStatusSelectedIndexChanged(cboSalesStatus.selectedValue)"
                  style="width: 100%;">
                </wj-combo-box>
              </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="col-md-4"></div>
    </div>
    <mat-progress-bar [hidden]="isProgressBarHidden" [color]="'primary'" [mode]="'indeterminate'"></mat-progress-bar>
    <wj-flex-grid #listSalesFlexGrid [itemsSource]="listSalesCollectionView" [selectionMode]="3" [frozenColumns]="2">
      <wj-flex-grid-filter></wj-flex-grid-filter>
      <wj-flex-grid-column [header]="Edit" [isReadOnly]="true" [width]="80">
        <ng-template wjFlexGridCellTemplate [cellType]="'Cell'">
          <button type="button" class="btn btn-primary btn-block btn-xs" (click)="btnEditSalesClick()"
            id="btnEditSales">
            <i class="fa fa-edit fa-fw"></i> Edit
          </button>
        </ng-template>
      </wj-flex-grid-column>
      <wj-flex-grid-column [header]="Delete" [isReadOnly]="true" [width]="90">
        <ng-template wjFlexGridCellTemplate [cellType]="'Cell'">
          <button type="button" class="btn btn-danger btn-block btn-xs"
            (click)="btnDeleteSalesDeliveryClick(salesDeliveryDeleteModalTemplate)" id="btnDeleteSales">
            <i class="fa fa-trash fa-fw"></i> Delete
          </button>
        </ng-template>
      </wj-flex-grid-column>
      <wj-flex-grid-column *ngIf="false" [header]="'Id'" [binding]="'Id'" [isReadOnly]="true" [width]="'2*'">
      </wj-flex-grid-column>
      <wj-flex-grid-column [header]="'SD No.'" [binding]="'SDNumber'" [isReadOnly]="true" [width]="100">
      </wj-flex-grid-column>
      <wj-flex-grid-column [header]="'Date'" [binding]="'SDDate'" [isReadOnly]="true" [width]="100">
      </wj-flex-grid-column>
      <wj-flex-grid-column [header]="'Renewal Date'" [binding]="'RenewalDate'" [isReadOnly]="true" [width]="100">
      </wj-flex-grid-column>
      <wj-flex-grid-column *ngIf="false" [header]="'CustomerId'" [binding]="'CustomerId'" [isReadOnly]="true"
        [width]="150">
      </wj-flex-grid-column>
      <wj-flex-grid-column [header]="'Customer'" [binding]="'Customer'" [isReadOnly]="true" [width]="'2*'">
      </wj-flex-grid-column>
      <wj-flex-grid-column *ngIf="false" [header]="'SIId'" [binding]="'SIId'" [isReadOnly]="true" [width]="'2*'">
      </wj-flex-grid-column>
      <wj-flex-grid-column [header]="'Product Description'" [binding]="'ProductDescription'" [isReadOnly]="true"
      [width]="'2*'"></wj-flex-grid-column>
      <wj-flex-grid-column *ngIf="false" [header]="'LDId'" [binding]="'LDId'" [isReadOnly]="true" [width]="150">
      </wj-flex-grid-column>
      <wj-flex-grid-column [header]="'LD No.'" [binding]="'LDNumber'" [isReadOnly]="true" [width]="'2*'">
      </wj-flex-grid-column>
      <wj-flex-grid-column *ngIf="false" [header]="'AssignedToUserId'" [binding]="'AssignedToUserId'"
        [isReadOnly]="true" [width]="175"></wj-flex-grid-column>
      <wj-flex-grid-column [header]="'Assigned To'" [binding]="'AssignedToUser'" [isReadOnly]="true" [width]="'2*'">
      </wj-flex-grid-column>
      <wj-flex-grid-column [header]="'Status'" [binding]="'Status'" [isReadOnly]="true" [width]="150">
      </wj-flex-grid-column>
      <wj-flex-grid-column [header]="'L'" [binding]="'IsLocked'" [isReadOnly]="true" [width]="'.40*'">
      </wj-flex-grid-column>
    </wj-flex-grid>
  </div>

  <div class="card-footer">
    <div class="col-sm-12 btn-group" style="padding: 5px 0px 5px 0px;">
      <button type="button" class="btn btn-secondary" (click)="listSalesCollectionView.moveToFirstPage()">
        <i class="fa fa-fast-backward"></i>
      </button>
      <button type="button" class="btn btn-secondary" (click)="listSalesCollectionView.moveToPreviousPage()">
        <i class="fa fa-step-backward"></i>
      </button>
      <button type="button" class="btn btn-secondary" disabled style="width:100px">
        {{ listSalesCollectionView.pageIndex + 1 }} / {{ listSalesCollectionView.pageCount }}
      </button>
      <button type="button" class="btn btn-secondary" (click)="listSalesCollectionView.moveToNextPage()">
        <i class="fa fa-step-forward"></i>
      </button>
      <button type="button" class="btn btn-secondary" (click)="listSalesCollectionView.moveToLastPage()">
        <i class="fa fa-fast-forward"></i>
      </button>
    </div>
  </div>
</div>

<div class="card card-default" style="margin-top: 10px;">
  <div class="card-header">
    User stamp
  </div>
  <div class="card-body">
    <div class="row">
      <div class="col-md-6">
        <p>Created by:</p>
        <div style="padding-left: 10px;">
          <i class="fa fa-key"></i>&nbsp;
          <label id="createdBy">
            {{
              listSalesCollectionView.items.length > 0 ?
            listSalesCollectionView.currentItem.CreatedByUser : 'NA'
            }}
          </label>
          <br />
          <small>
            <i class="fa fa-calendar"></i>&nbsp;&nbsp;
            <span id="createdDate">
              {{
              listSalesCollectionView.items.length > 0 ?
              listSalesCollectionView.currentItem.CreatedDateTime : 'mm/dd/yyyy'
              }}
            </span>
          </small>
        </div>
        <br />
      </div>
      <div class="col-md-6">
        <p>Updated by:</p>
        <div style="padding-left: 10px;">
          <i class="fa fa-key"></i>&nbsp;
          <label id="updatedBy">
            {{
            listSalesCollectionView.items.length > 0 ?
            listSalesCollectionView.currentItem.UpdatedByUser : 'NA'
            }}
          </label>
          <br />
          <small>
            <i class="fa fa-calendar"></i>&nbsp;&nbsp;
            <span id="updatedDate">
              {{
              listSalesCollectionView.items.length > 0 ?
              listSalesCollectionView.currentItem.UpdatedDateTime : 'mm/dd/yyyy'
              }}
            </span>
          </small>
        </div>
        <br />
      </div>
    </div>
  </div>
</div>
<div>
  <ng-template #salesDeliveryDeleteModalTemplate>
    <div class="modal-header">
      <h4 class="modal-title">
        Delete
      </h4>
    </div>
    <div class="modal-body">
      Are you sure you want to delete this sales delivery?
      <br /> <br />

      SD Number:
      <b>
        {{
      listSalesCollectionView.items.length > 0 ?
      listSalesCollectionView.currentItem.SDNumber : 'NA'
      }}
      </b>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" style="margin-right: 5px;"
        (click)="btnConfirmDeleteSalesDeliveryClick()" id="btnConfirmDeleteSalesDelivery">
        <i class="fa fa-trash"></i> Delete
      </button>
      <button type="button" class="btn" (click)="deleteSalesDeliveryModalRef.hide()"
        id="btnCloseConfirmDeleteSalesDeliveryModal">
        <i class="fa fa-close"></i> Cancel
      </button>
    </div>
  </ng-template>
</div>